<!doctype html>
<html lang="fr">

<head>
    <meta charset="utf-8">

    <title>Jenkins Khan - Apéro PHP Lyon 30 avril 2013</title>

    <link rel="stylesheet" href="css/reveal.min.css">
    <link rel="stylesheet" href="css/theme/default.css" id="theme">

    <!-- For syntax highlighting -->
    <link rel="stylesheet" href="lib/css/zenburn.css">

    <!-- If the query includes 'print-pdf', use the PDF print sheet -->
    <script>
        document.write('<link rel="stylesheet" href="css/print/' + ( window.location.search.match(/print-pdf/gi) ? 'pdf' : 'paper' ) + '.css" type="text/css" media="print">');
    </script>

    <!--[if lt IE 9]>
    <script src="lib/js/html5shiv.js"></script>
    <![endif]-->
</head>

<body>

<div class="reveal">

<!-- Any section element inside of this container is displayed as a slide -->
<div class="slides">

<section>
    <h1>ಠ益ಠ Jenkins Khan</h1>

    <h2>Apéro PHP - 30 avril 2013</h2>

    <img src="images/logo_afup_lyon.jpg"/>

    <aside class="notes">
        Me + PMSIpilot + projet JK
    </aside>
</section>

<section>
    <section>
        <h2>Le besoin ?</h2>

    </section>

    <section>
        <h3>Au début, pas de tests</h3>

        PMSIpilot : <br/>
        <ul>
            <li>Projet symfony 1.x</li>
            <li>SVN</li>
            <li>7~10 développeurs</li>
        </ul>

        <aside class="notes">
            Explication du contexte applicatif de PMSIpilot 
            <ul>
                <li>Projet créé depuis quelques années.</li>
                <li>Passage en 2008 en symfony 1.2</li>
                <li>Gros refacto, mais que du testing manuel</li>
            </ul>
        </aside>
    </section>

    <section>
        <h3>Puis les premiers test fonctionnels</h3>

        <img src="images/functionnal.png"/>

        <aside class="notes">
            * Utilisation des outils de Symfony pour réaliser les tests fonctionnels
            * Puis après des tests maisons d'étalons de non régression
        </aside>
    </section>

    <section>
        <h3>Suivis des premiers tests unitaires</h3>

        <aside class="notes">
            Premiers tests avec Lime

        </aside>
    </section>
    <section>
        <h3>Automatisation des tests</h3>

        <img src="images/jenkins-logo-title.png"/>
        <aside class="notes">
            Lancement manuel des tests avant tag
            Stabilisation
            Début de l'intégration continue

        </aside>
    </section>
    <section>
        <h3>Augmentation du nombre de tests</h3>

        <ul>
            <li>Une dizaine de tests</li>
            <li>30h de tests parallélisés</li>
        </ul>

    </section>
    <section>
        <h3>SVN -> git</h3>

        <img src="images/git.png"/>

    </section>
    <section>
        <h3>Changement du workflow</h3>

        <ul>
            <li>Branche</li>
            <li>Développement</li>
            <li>Validation</li>
            <li>Merge</li>
        </ul>

        <aside class="notes">
            <ul>
                <li>création d’une branche de travail à partir de la branche stable,</li>
                <li>réalisation du développement,</li>
                <li>validation du développement en exécutant les tests sur la branche de travail,</li>
                <li>merge de la branche de travail sur la branche stable.</li>
            </ul>
        </aside>
    </section>

    <section>
        <h3>Jenkins local</h3>

        On merge sur le master du code stable
        <aside class="notes">
            <ul>
                <li>Même jobs que sur le jenkins de prod</li>
                <li>instance local</li>
                <li>Parametre BRANCH supplémentaire pour lancer les tests sur une branche en particulier</li>
            </ul>
        </aside>
    </section>

    <section>
        <h3>Et puis un jour</h3>

        <img src="images/jenkins_khan_v0.jpg" title="V0 de Jenkins Khan" />

        <aside class="notes">
            * Impossible de suivre les jobs branches par branches
            * FASTIDIOSITE
            * Erreurs
            * Chacun fait à son envie
        </aside>
    </section>

    <section>
        <h3>Et là, c'est le drame !</h3>

        <img src="images/jenkins.png"/>

        <aside class="notes">
            Oubli d'un test ==> on casse le master
        </aside>
    </section>

</section>

<section>
    <section>
        <h2>ಠ益ಠ Jenkins Khan est né !</h2>

        Faciliter la vue par branche via Jenkins. <br/><br/>

        <ul>
            <li>Etat de la validation par fonctionnalités</li>
            <li>Vue globale de ses développements</li>
        </ul>

        <aside class="notes">
            Objectif principal : visualiser l’état global des branches et l’état des jobs.
            Contrairement à Jenkins (vue orientée job), JK a une vue orientée branche.
        </aside>
    </section>

    <section>
        <h2>Stack technique</h2>

        <ul>
            <li>Symfony 1.4</li>
            <li>MySQL</li>
            <li>Twitter boostrap</li>
            <li>API Jenkins</li>
        </ul>
        <aside class="notes">
            Connexion à LDAP
            Projet à part pour l'API
        </aside>
    </section>

    <section>
        <h2>Demo</h2>

        <a class="image" href="http://jenkins-khan.dev/" target="_blank">
            <img src="images/dashboard.png" title="Jenkins Khan"/>
        </a>
    </section>
</section>
<section>
    <h2>Conclusion</h2>

    Ca ne sert à rien de trouver un nom sympa à un projet si on n'est pas capable de le prononcer 3 fois de suite
    sans se planter

</section>

<section>
    <h2>Merci</h2>

    <p>@srogier</p>

    <p>ಠ益ಠ Jenkins Khan :
        <a href="https://github.com/pmsipilot/Jenkins-Khan">https://github.com/pmsipilot/Jenkins-Khan</a>
    </p>

</section>


</div>
</div>

<script src="lib/js/head.min.js"></script>
<script src="js/reveal.min.js"></script>

<script>

    // Full list of configuration options available here:
    // https://github.com/hakimel/reveal.js#configuration
    Reveal.initialize({
        controls: true,
        progress: true,
        history:  true,
        center:   true,

        theme:        Reveal.getQueryHash().theme, // available themes are in /css/theme
        transition: Reveal.getQueryHash().transition || 'none',
        // default/cube/page/concave/zoom/linear/fade/none

        // Optional libraries used to extend on reveal.js
        dependencies: [
            { src: 'lib/js/classList.js', condition: function () {
                return !document.body.classList;
            } },
            { src: 'plugin/markdown/showdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            } },
            { src: 'plugin/markdown/markdown.js', condition: function () {
                return !!document.querySelector('[data-markdown]');
            } },
            { src: 'plugin/highlight/highlight.js', async: true, callback: function () {
                hljs.initHighlightingOnLoad();
            } },
            { src: 'plugin/zoom-js/zoom.js', async: true, condition: function () {
                return !!document.body.classList;
            } },
            { src: 'plugin/notes/notes.js', async: true, condition: function () {
                return !!document.body.classList;
            } }
            // { src: 'plugin/search/search.js', async: true, condition: function() { return !!document.body.classList; } }
            // { src: 'plugin/remotes/remotes.js', async: true, condition: function() { return !!document.body.classList; } }
        ]
    });

</script>

</body>
</html>
